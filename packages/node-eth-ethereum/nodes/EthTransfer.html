<script>
  RED.nodes.registerType("Ethereum-Transfer", {
    category: "Ethereum nodes",
    defaults: {
      name: { value: "", required: true },
      rpc: { type: "rpc", required: true },
      privateKey: { type: "privateKey", required: true },
      recipientAddress: { value: "", required: true },
      recipientAddressType: { value: 'str', required: true },
      etherAmount: { value: "", required: true },
      etherAmountType: { value: "str", required: true },
    },
    inputs: 1,
    outputs: 1,
    label: function () {
      return this.name;
    },
    color: '#b4bcda',
    icon: 'ethereum-logo.svg',
    paletteLabel: 'Ethereum-Transfer',
    oneditprepare: function () {
        $("#node-input-recipientAddress").typedInput({
            default: 'str',
            types: ["str", "msg", "flow", "global"],
            typeField: $("#node-input-recipientAddressType")
        })
        $("#node-input-etherAmount").typedInput({
            default: 'str',
            types: ["str", "msg", "flow", "global"],
            typeField: $("#node-input-etherAmountType")
        })
        
    },
  });
</script>

<script type="text/html" data-template-name="Ethereum-Transfer">
  <div class="form-row">
    <label for="node-input-name">Name</label>
    <input type="text" id="node-input-name">
  </div>
  <div class="form-row">
    <label for="node-input-rpc">Provider</label>
    <select type="text" id="node-input-rpc"></select>
  </div>
  <div class="form-row">
    <label for="node-input-privateKey">Private Key</label>
    <select type="text" id="node-input-privateKey"></select>
  </div>
  <div class="form-row">
    <label for="node-input-recipientAddress">Recipient Address</label>
    <input type="text" id="node-input-recipientAddress">
    <input type="hidden" id="node-input-recipientAddressType">
  </div>
  <div class="form-row">
    <label for="node-input-etherAmount">Ether Amount</label>
    <input type="text" id="node-input-etherAmount">
    <input type="hidden" id="node-input-etherAmountType">
  </div>
</script>

<script type="text/markdown" data-help-name="Ethereum-Transfer">
  A node to transfer Ether to a specified recipient address.
</script>